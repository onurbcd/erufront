<form [formGroup]="formGroup" novalidate class="eru-form">
    <mat-form-field class="input-width">
        <input matInput placeholder="{{ 'finance.category.name' | translate }}" formControlName="name" />
    </mat-form-field>
    <mat-form-field class="input-width">
        <input matInput placeholder="{{ 'finance.category.description' | translate }}" formControlName="description" />
    </mat-form-field>
    <mat-form-field class="input-width" *ngIf="!defaultValues.id">
        <mat-label>{{ 'finance.category.parent' | translate }}</mat-label>
        <mat-select #parentSelect formControlName="parentId" readonly>
            <div (mouseleave)="parentSelect.close()">
                <mat-option>
                    <ngx-mat-select-search ngModel [ngModelOptions]="{standalone: true}"
                        (ngModelChange)="searchCategory($event)"
                        placeholderLabel="{{ 'finance.category.searchCategory' | translate }}"
                        noEntriesFoundLabel="{{ 'global.noEntriesFoundLabel' | translate }}">
                    </ngx-mat-select-search>
                </mat-option>
                <mat-option *ngFor="let category of (categories$ | async)?.content" [value]="category.id">
                    {{ category.name }}
                </mat-option>
            </div>
        </mat-select>
        <button mat-button *ngIf="formGroup.value.parentId" matSuffix mat-icon-button
            matTooltip="{{ 'button.clear' | translate }}" (click)="clear('parentId')">
            <mat-icon>close</mat-icon>
        </button>
    </mat-form-field>
    <mat-form-field class="input-width" *ngIf="defaultValues.id">
        <input matInput placeholder="{{ 'finance.category.parent' | translate }}" formControlName="parentName"
            [readonly]="true" />
    </mat-form-field>
    <mat-form-field class="input-width">
        <input matInput placeholder="{{ 'finance.category.level' | translate }}" formControlName="level"
            [readonly]="true" />
    </mat-form-field>
    <mat-slide-toggle formControlName="lastBranch" color="primary">
        {{ "finance.category.lastBranchSlideToggle." + formGroup.value.lastBranch | translate }}
    </mat-slide-toggle>
    <mat-slide-toggle formControlName="active" color="primary" class="margin-top-20">
        {{ "global.slideToggle." + formGroup.value.active | translate }}
    </mat-slide-toggle>
    <app-form-buttons [disabled]="formGroup.invalid" [link]="'/category'" (save)="save($event)" class="margin-top-20">
    </app-form-buttons>
</form>